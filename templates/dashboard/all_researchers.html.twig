{% extends 'base.html.twig' %}
{% block title %}Submission
{% endblock %}
{% block container_title %}Submissions
{% endblock %}
{% block body %}


<style lin></style>

    

		<link href="{{ asset('https://cdn.datatables.net/buttons/2.0.1/css/buttons.dataTables.min.css')}}" rel="stylesheet" type="text/css"/>
		<link href="{{ asset('https://cdn.datatables.net/1.11.3/css/jquery.dataTables.min.css')}}" rel="stylesheet" type="text/css"/>

{# 
	<div class="row">
		<div class="col-lg-12">



			<div class="table-responsive">
    <table class="table dataTables-example table-striped table-bordered table-responsive table-hover " id="example">

 					<thead>
						<tr>
							<th>#</th>
							<th>Title</th>
							<th>Researcher(PI)</th>
							<th>Co-PIs</th>
							<th>Affiliation of PI</th>
							<th>Submission Date</th>
						</tr>
					</thead>
					<tbody>
						{% for submission in submissions %}
							<tr {% if submission.complete=='completed' %} class='text-' {% elseif submission.complete==''%} class='text-danger' {% endif %}>
          <td class="sorting_1">{{ loop.index }}</td>
								 
								<td>{{ submission.title }}</td>
								<td>{{ submission.author.userInfo }}
                                
                                <span class='badge bg-success'>
												+({{ submission.coAuthors|length   }})
											</span>
                                </td>

								<td>
									<ol>
										{% for copi in submission.coAuthors %}

											<li>
												{{copi.Researcher.userInfo}}
											</li>


										{% else %}

											 
												<span class='text-danger'>No Co-PI found</span>
											 

										{% endfor %}
									</ol>

								</td><td>

<br>{{ submission.author.userInfo.college }},<br>Department of 
{{ submission.author.userInfo.department }}
</td>
								<td>
									{% if submission.sentAt %}
										{{ submission.sentAt|date() }}
									{% endif %}
								</td>

							</tr>


						{% else %}
							<tr>
								<td colspan="8">no records found</td>
							</tr>
						{% endfor %}
					</tbody>
				</table>

			</div>
            <div class="navigation">
		{{ knp_pagination_render(submissions) }}
	</div>
		</div>
	</div> #}


   


    

			<script src="{{ asset('https://cdn.datatables.net/buttons/2.0.1/js/buttons.print.min.js')}}"></script>
			<script src="{{ asset('https://code.jquery.com/jquery-3.5.1.js')}}"></script>
			<script src="{{ asset('https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js')}}"></script>
			<script src="{{ asset('https://cdn.datatables.net/buttons/2.0.1/js/dataTables.buttons.min.js')}}"></script>
			<script src="{{ asset('https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js')}}"></script>
			<script src="{{ asset('https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js')}}"></script>
 			<script src="{{ asset('https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js')}}"></script>
			<script src="{{ asset('https://cdn.datatables.net/buttons/2.0.1/js/buttons.html5.min.js')}}"></script>
	 
    <script >

    $(document).ready(function() {
    $('#example').DataTable( {
        dom: 'Bfrtip',
        buttons: [
            'copy', 'csv', 'excel', 'pdf', 'print'
        ]
    } );
} );
    </script>
      
{% endblock %}
    {% block script %}
     
 
    {% endblock %}
